⚫●◽★
——————————————————————
⚫存档
关卡内，记录目前已通过平台
关游戏后，只记录目前已通关关卡

⚫卧室
●进入关卡timeline

⚫音乐
●进入下一关
一个场景，多个平台
入口平台处存档

●转盘触发式移动
检测父物体所有同名组件并关闭

⚫足球
●风扇检测hitball并施加力✔️
触发：进入Zone
内容：检测碰撞物体名称并施加力

●胜利字幕✔️
触发：足球碰球门
内容：每关一个，ScriptableObject/Soccer
UI

●提示字幕✔️
触发：跳关
内容：每关一个，ScriptableObject/Soccer
UI

●关卡加载/切换
◽触发：
足球碰球门
进入足球场景
重置场景：Shift；剩余碰撞次数归零；倒计时；出界
◽内容：
一个场景，多个箱庭，进入球门后位置瞬移到下个箱庭，然后存档
足球归位，速度清零
主角归位，速度清零
◽问题：
Q直接加载到第x关，球从第一关下落✔️
A固定足球，主角，关卡的世界坐标，场景中仅仅加载一关
Q进入下一关，足球坠落在场地Y下面✔️
A足球HitBallRespawn设为2；隐藏场景原有的足球和主角
Q重置主角，主角位置无法调整✔️
A仅保留主场景中的Respawn，隐藏world场景中的
Q进入下一关，足球和主角有初始速度
A足球速度清零✔️主角速度清零
Q进入下一关，足球未复位✔️
A，NextLevel，ResetHitBallPos();
Q进入下一关，足球和主角重生在场地Y上面
A岛屿位置与大小不统一，调整为统一

●球门四周移动
触发：主角碰足球
内容：在四个位置移动
（-41,0,45）→（-32,0,45）
（0,0,110）→（0,0,102）
（41,0,45）→（32,0,45）
（0,0,0）→（0,0,0）
●冷却球门移动
[Tooltip("碰撞冷却时间")]
public float CoolTime=1.5f;
private bool isInCooling;

if(isInCooling)return;
    isInCooling = true;
    TimeTool.Instance.Delay(CoolTime, (() => isInCooling = false));

●守门员

●NPC

●碰撞字幕
主角进关卡，显示本关要求碰撞次数
主角碰足球，显示本关剩余碰撞次数
UI





●HitBall
//作弊
    void Update()
    {
        if (Input.GetKeyUp(KeyCode.Z))
        {
            SoccerMono.Instance.NextLevel();
        }
    }


●HitBall
//先判断是否有Door
    private void FloatDoor()
    {
        var doorTimeline = GameObject.Find("DoorTimeline");
        if (doorTimeline == null) return;

        if (isInCooling) return;
        isInCooling = true;
        TimeTool.Instance.Delay(CoolTime, (() => isInCooling = false));

        //循环触发不同trigger
        switch (doorMoveCount % 4)
        {
            case 0:
                doorTimeline.GetComponent<Animator>().SetTrigger(trigger0);
                break;
            case 1:
                doorTimeline.GetComponent<Animator>().SetTrigger(trigger1);
                break;
            case 2:
                doorTimeline.GetComponent<Animator>().SetTrigger(trigger2);
                break;
            case 3:
                doorTimeline.GetComponent<Animator>().SetTrigger(trigger3);
                break;
        }

        doorMoveCount++;
    }


●HitBall
//足球碰撞场地音效CD
    private void PlaySound(string physicMaterialName)
    {
        if (physicMaterialName == "") return;
        if (isInCooling) return;
        isInCooling = true;
        TimeTool.Instance.Delay(CoolTime, (() => isInCooling = false));

        string[] physicMaterialStringNums = physicMaterialName.Split("_");
        MusicManager.Instance.ChangeAndPlaySound(physicMaterialStringNums[0], true);
    }

●BallCollision
//草地音效冷却时间
private bool isInCooling;
[Tooltip("草地音效冷却时间")] private float CoolTime = 0.5f;

public void OnCollisionEnter(Collision other)
        {
            if(CollisionEnterMethod==null)return;
            CollisionEnterMethod(other);
            
            if (isInCooling) return;
            isInCooling = true;
            TimeTool.Instance.Delay(CoolTime, (() => isInCooling = false));
            BallOnCollisionSound.PlaySound(other.collider.material.name);
        }



- 足球通关后，球门前的奖杯摆放有问题
去拿奖杯会很容易把球撞进去再次进入足球关，但是没有进入足球关的打算

- 木球多米诺手感问题
木球召唤出多米诺后，却不能推倒，还需要切换其他球推，下次召唤又要切回来

- 奖杯收集进度
不知道当前场景中还有多少奖杯，不确定有没有走完设计者的流程

